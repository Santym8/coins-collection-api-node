Improve middelwares
Modify Request so id is added
Make tests
Refactor Controllers